# EC2 Small Instance Optimized Environment Variables (2GB RAM, 2 vCPU)

# Database Configuration
DB_HOST=postgres
DB_PORT=5432
DB_NAME=friendlyi
DB_USERNAME=friendlyi_user
DB_PASSWORD=your_secure_database_password_here

# Connection Pool (Reduced for small instance)
HIKARI_MAXIMUM_POOL_SIZE=8
HIKARI_MINIMUM_IDLE=2

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-minimum-32-chars
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000

# Admin Configuration
ADMIN_PASSWORD=your_secure_admin_password_here

# File Upload Configuration (Reduced for small instance)
FILE_UPLOAD_PATH=/app/uploads
FILE_UPLOAD_MAX_SIZE=3MB
FILE_UPLOAD_MAX_REQUEST_SIZE=5MB

# Spring Profile
SPRING_PROFILES_ACTIVE=prod

# Server Configuration (Optimized for small instance)
SERVER_PORT=8080
SERVER_TOMCAT_MAX_THREADS=30
SERVER_TOMCAT_MIN_SPARE_THREADS=3
SERVER_TOMCAT_MAX_CONNECTIONS=1000

# JVM Configuration (EC2 Small: 2GB RAM total, ~1.5GB available)
# Backend gets ~768MB max, leaves room for PostgreSQL (512MB) + Redis (128MB) + OS (512MB)
JAVA_OPTS=-server -Xms128m -Xmx448m -XX:+UseSerialGC -XX:+UseContainerSupport -XX:MaxRAMPercentage=70.0 -XX:+TieredCompilation -XX:TieredStopAtLevel=1 -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dspring.backgroundpreinitializer.ignore=true -Dspring.jmx.enabled=false

# Logging (Reduce I/O for small instance)
LOGGING_LEVEL_ROOT=WARN
LOGGING_LEVEL_APP=INFO

# Cache Configuration (Smaller cache sizes)
SPRING_CACHE_REDIS_TIME_TO_LIVE=300000